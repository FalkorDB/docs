<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <link rel="stylesheet" href="/assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet"> <style id="jtd-nav-activation"> .site-nav > ul.nav-list:first-child > li:not(:nth-child(6)) > a, .site-nav > ul.nav-list:first-child > li > ul > li a { background-image: none; } .site-nav > ul.nav-list:not(:first-child) a, .site-nav li.external a { background-image: none; } .site-nav > ul.nav-list:first-child > li:nth-child(6) > a { font-weight: 600; text-decoration: none; }.site-nav > ul.nav-list:first-child > li:nth-child(6) > button svg { transform: rotate(-90deg); }.site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(6) > ul.nav-list { display: block; } </style> <script async src="https://www.googletagmanager.com/gtag/js?id=G-0V4CX90653"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-0V4CX90653'); </script> <script src="/assets/js/vendor/lunr.min.js"></script> <script src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <link rel="icon" href="/images/favicon.ico" type="image/x-icon"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Path algorithms | FalkorDB Docs</title> <meta name="generator" content="Jekyll v3.10.0" /> <meta property="og:title" content="Path algorithms" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Learn how to use algo.SPpaths and algo.SSpaths to find single-pair and single-source paths" /> <meta property="og:description" content="Learn how to use algo.SPpaths and algo.SSpaths to find single-pair and single-source paths" /> <link rel="canonical" href="https://docs.falkordb.com/path_algorithm.html" /> <meta property="og:url" content="https://docs.falkordb.com/path_algorithm.html" /> <meta property="og:site_name" content="FalkorDB Docs" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Path algorithms" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"Learn how to use algo.SPpaths and algo.SSpaths to find single-pair and single-source paths","headline":"Path algorithms","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://docs.falkordb.com/images/falkor-logo.png"}},"url":"https://docs.falkordb.com/path_algorithm.html"}</script> <!-- End Jekyll SEO tag --> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewBox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header" role="banner"> <a href="/" class="site-title lh-tight"> <div class="site-logo" role="img" aria-label="FalkorDB Docs"></div> </a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </button> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/" class="nav-list-link">Home</a></li><li class="nav-list-item"><a href="/configuration.html" class="nav-list-link">Configuration Parameters</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Commands category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/commands/" class="nav-list-link">Commands</a><ul class="nav-list"><li class="nav-list-item"><a href="/commands/graph.query.html" class="nav-list-link">GRAPH.QUERY</a></li><li class="nav-list-item"><a href="/commands/graph.ro_query.html" class="nav-list-link">GRAPH.RO_QUERY</a></li><li class="nav-list-item"><a href="/commands/graph.delete.html" class="nav-list-link">GRAPH.DELETE</a></li><li class="nav-list-item"><a href="/commands/graph.explain.html" class="nav-list-link">GRAPH.EXPLAIN</a></li><li class="nav-list-item"><a href="/commands/graph.list.html" class="nav-list-link">GRAPH.LIST</a></li><li class="nav-list-item"><a href="/commands/graph.profile.html" class="nav-list-link">GRAPH.PROFILE</a></li><li class="nav-list-item"><a href="/commands/graph.config-get.html" class="nav-list-link">GRAPH.CONFIG-GET</a></li><li class="nav-list-item"><a href="/commands/graph.config-set.html" class="nav-list-link">GRAPH.CONFIG-SET</a></li><li class="nav-list-item"><a href="/commands/graph.constraint-create.html" class="nav-list-link">GRAPH.CONSTRAINT CREATE</a></li><li class="nav-list-item"><a href="/commands/graph.constraint-drop.html" class="nav-list-link">GRAPH.CONSTRAINT DROP</a></li><li class="nav-list-item"><a href="/commands/graph.copy.html" class="nav-list-link">GRAPH.COPY</a></li><li class="nav-list-item"><a href="/commands/graph.info.html" class="nav-list-link">GRAPH.INFO</a></li><li class="nav-list-item"><a href="/commands/graph.slowlog.html" class="nav-list-link">GRAPH.SLOWLOG</a></li></ul></li><li class="nav-list-item"><a href="/clients.html" class="nav-list-link">Client Libraries</a></li><li class="nav-list-item"><a href="/datatypes.html" class="nav-list-link">Data types</a></li><li class="nav-list-item"><a href="/path_algorithm.html" class="nav-list-link">Path algorithms</a></li><li class="nav-list-item"><a href="/docker-examples/README.html" class="nav-list-link">Building Docker</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Cypher Language category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/cypher/" class="nav-list-link">Cypher Language</a><ul class="nav-list"><li class="nav-list-item"><a href="/cypher/match.html" class="nav-list-link">MATCH</a></li><li class="nav-list-item"><a href="/cypher/optional_match.html" class="nav-list-link">OPTIONAL MATCH</a></li><li class="nav-list-item"><a href="/cypher/where.html" class="nav-list-link">WHERE</a></li><li class="nav-list-item"><a href="/cypher/return.html" class="nav-list-link">RETURN</a></li><li class="nav-list-item"><a href="/cypher/order_by.html" class="nav-list-link">ORDER BY</a></li><li class="nav-list-item"><a href="/cypher/skip.html" class="nav-list-link">SKIP</a></li><li class="nav-list-item"><a href="/cypher/limit.html" class="nav-list-link">LIMIT</a></li><li class="nav-list-item"><a href="/cypher/create.html" class="nav-list-link">CREATE</a></li><li class="nav-list-item"><a href="/cypher/delete.html" class="nav-list-link">DELETE</a></li><li class="nav-list-item"><a href="/cypher/set.html" class="nav-list-link">SET</a></li><li class="nav-list-item"><a href="/cypher/merge.html" class="nav-list-link">MERGE</a></li><li class="nav-list-item"><a href="/cypher/with.html" class="nav-list-link">WITH</a></li><li class="nav-list-item"><a href="/cypher/union.html" class="nav-list-link">UNION</a></li><li class="nav-list-item"><a href="/cypher/unwind.html" class="nav-list-link">UNWIND</a></li><li class="nav-list-item"><a href="/cypher/foreach.html" class="nav-list-link">FOREACH</a></li><li class="nav-list-item"><a href="/cypher/call.html" class="nav-list-link">CALL</a></li><li class="nav-list-item"><a href="/cypher/functions.html" class="nav-list-link">Functions</a></li><li class="nav-list-item"><a href="/cypher/procedures.html" class="nav-list-link">Procedures</a></li><li class="nav-list-item"><a href="/cypher/algorithms.html" class="nav-list-link">Algorithms</a></li><li class="nav-list-item"><a href="/cypher/indexing.html" class="nav-list-link">Indexing</a></li><li class="nav-list-item"><a href="/cypher/cypher_support.html" class="nav-list-link">Cypher coverage</a></li><li class="nav-list-item"><a href="/cypher/known_limitations.html" class="nav-list-link">Known limitations</a></li></ul></li><li class="nav-list-item"><a href="/llm_support.html" class="nav-list-link">LLM frameworks support</a></li><li class="nav-list-item"><a href="/bolt_support.html" class="nav-list-link">BOLT protocol support</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Operations category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/operations/" class="nav-list-link">Operations</a><ul class="nav-list"><li class="nav-list-item"><a href="/operations/persistence.html" class="nav-list-link">Persistence</a></li><li class="nav-list-item"><a href="/operations/replication.html" class="nav-list-link">Replication</a></li><li class="nav-list-item"><a href="/operations/cluster.html" class="nav-list-link">Cluster</a></li><li class="nav-list-item"><a href="/operations/k8s_support.html" class="nav-list-link">Kubernetes support</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Management category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/management/" class="nav-list-link">Management</a><ul class="nav-list"><li class="nav-list-item"><a href="/management/persistence.html" class="nav-list-link">Persistence</a></li></ul></li><li class="nav-list-item"><a href="/redisgraph-to-falkordb.html" class="nav-list-link">RedisGraph to FalkorDB</a></li><li class="nav-list-item"><a href="/References.html" class="nav-list-link">References</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in The FalkorDB Design category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/design/" class="nav-list-link">The FalkorDB Design</a><ul class="nav-list"><li class="nav-list-item"><a href="/design/client_spec.html" class="nav-list-link">Client Specification</a></li><li class="nav-list-item"><a href="/design/bulk_spec.html" class="nav-list-link">GRAPH.BULK endpoint specification</a></li><li class="nav-list-item"><a href="/design/result_structure.html" class="nav-list-link">Result Set Structure</a></li></ul></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search" role="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search FalkorDB Docs" aria-label="Search FalkorDB Docs" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="//github.com/falkordb/docs" class="site-button" target="_blank" rel="noopener noreferrer" > Docs Repository </a> </li> <li class="aux-nav-list-item"> <a href="//github.com/falkordb/falkordb" class="site-button" target="_blank" rel="noopener noreferrer" > FalkorDB Repository </a> </li> </ul> </nav> </div> <div class="main-content-wrap"> <div id="main-content" class="main-content"> <main> <h1 id="path-algorithms"> <a href="#path-algorithms" class="anchor-heading" aria-labelledby="path-algorithms"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Path algorithms </h1> <p>In v2.10 introduced two new path-finding algorithms, or more accurately, minimum-weight, optionally bounded-cost, and optionally bounded-length path-finding algorithms, <code class="language-plaintext highlighter-rouge">algo.SPpaths</code> and <code class="language-plaintext highlighter-rouge">algo.SSpaths</code>.</p> <p><code class="language-plaintext highlighter-rouge">algo.SPpaths</code> and <code class="language-plaintext highlighter-rouge">algo.SSpaths</code> can solve a wide range of real-world problems, where minimum-weight paths need to be found. <code class="language-plaintext highlighter-rouge">algo.SPpaths</code> finds paths between a given pair of nodes, while <code class="language-plaintext highlighter-rouge">algo.SSpaths</code> finds paths from a given source node. Weight can represent time, distance, price, or any other measurement. A bound can be set on another property (e.g., finding a minimum-time bounded-price way to reach from point A to point B). Both algorithms are performant and have low memory requirements.</p> <p>For both algorithms, you can set:</p> <ul> <li> <p>A list of relationship types to traverse (<code class="language-plaintext highlighter-rouge">relTypes</code>).</p> </li> <li> <p>The relationships’ property whose sum you want to minimize (<code class="language-plaintext highlighter-rouge">weight</code>).</p> </li> <li> <p>A optional relationships’ property whose sum you want to bound (<code class="language-plaintext highlighter-rouge">cost</code>) and the optional bound (<code class="language-plaintext highlighter-rouge">maxCost</code>).</p> </li> <li> <p>An optional bound on the path length - the number of relationships along the path (<code class="language-plaintext highlighter-rouge">maxLen</code>).</p> </li> <li> <p>The number of paths you want to retrieve: either all minimal-weight paths (<code class="language-plaintext highlighter-rouge">pathCount</code> is 0), a single minimal-weight path (<code class="language-plaintext highlighter-rouge">pathCount</code> is 1), or <em>n</em> minimal-weight paths with potentially different weights (<code class="language-plaintext highlighter-rouge">pathCount</code> is <em>n</em>).</p> </li> </ul> <p>This topic explains which problems you can solve using these algorithms and demonstrates how to use them.</p> <p>Let’s start with the following graph.</p> <p><img src="../images/road_network.png" alt="Road network" /></p> <p>This graph represents a road network with 7 cities (A, B, C, and so on) and 11 one-way roads. Each road has a distance (say, in kilometers) and trip time (say, in minutes).</p> <p>Let’s create the graph.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GRAPH.QUERY g <span class="s2">"CREATE (a:City{name:'A'}), (b:City{name:'B'}), (c:City{name:'C'}), (d:City{name:'D'}), (e:City{name:'E'}), (f:City{name:'F'}), (g:City{name:'G'}), (a)-[:Road{time:4, dist:3}]-&gt;(b), (a)-[:Road{time:3, dist:8}]-&gt;(c), (a)-[:Road{time:4, dist:2}]-&gt;(d), (b)-[:Road{time:5, dist:7}]-&gt;(e), (b)-[:Road{time:5, dist:5}]-&gt;(d), (d)-[:Road{time:4, dist:5}]-&gt;(e), (c)-[:Road{time:3, dist:6}]-&gt;(f), (d)-[:Road{time:1, dist:4}]-&gt;(c), (d)-[:Road{time:2, dist:12}]-&gt;(f), (e)-[:Road{time:5, dist:5}]-&gt;(g), (f)-[:Road{time:4, dist:2}]-&gt;(g)"</span>
</code></pre></div></div> <p>If you’re using RedisInsight v2, you can create and visualize the graph by slightly modifying the above query: you’ll have to assign aliases to all nodes and relationships, and return them:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GRAPH.QUERY g <span class="s2">"CREATE (a:City{name:'A'}), (b:City{name:'B'}), (c:City{name:'C'}), (d:City{name:'D'}), (e:City{name:'E'}), (f:City{name:'F'}), (g:City{name:'G'}), (a)-[r1:Road{time:4, dist:3}]-&gt;(b), (a)-[r2:Road{time:3, dist:8}]-&gt;(c), (a)-[r3:Road{time:4, dist:2}]-&gt;(d), (b)-[r4:Road{time:5, dist:7}]-&gt;(e), (b)-[r5:Road{time:5, dist:5}]-&gt;(d), (d)-[r6:Road{time:4, dist:5}]-&gt;(e), (c)-[r7:Road{time:3, dist:6}]-&gt;(f), (d)-[r8:Road{time:1, dist:4}]-&gt;(c), (d)-[r9:Road{time:2, dist:12}]-&gt;(f), (e)-[r10:Road{time:5, dist:5}]-&gt;(g), (f)-[r11:Road{time:4, dist:2}]-&gt;(g) RETURN a,b,c,d,e,f,g,r1,r2,r3,r4,r5,r6,r7,r8,r9,r10,r11"</span>
</code></pre></div></div> <p><img src="../images/graph_query_city.png" alt="Road network" /></p> <h2 id="before-v210"> <a href="#before-v210" class="anchor-heading" aria-labelledby="before-v210"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Before v2.10 </h2> <p>Before v2.10, you were able to solve these queries:</p> <ul> <li>Find the shortest path (by number of roads) from A to G</li> <li>Find all the shortest paths (by number of roads) from A to G</li> <li>Find 5 shortest paths (by number of roads) from A to G</li> <li>Find 5 shortest paths (in kilometers) from A to G</li> </ul> <h3 id="find-the-shortest-path-by-number-of-roads-from-a-to-g"> <a href="#find-the-shortest-path-by-number-of-roads-from-a-to-g" class="anchor-heading" aria-labelledby="find-the-shortest-path-by-number-of-roads-from-a-to-g"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Find the shortest path (by number of roads) from A to G </h3> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GRAPH.QUERY g <span class="s2">"MATCH (a:City{name:'A'}),(g:City{name:'G'}) WITH shortestPath((a)-[*]-&gt;(g)) as p RETURN length(p), [n in nodes(p) | n.name] as pathNodes"</span>
1<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"length(p)"</span>
   2<span class="o">)</span> <span class="s2">"pathNodes"</span>
2<span class="o">)</span> 1<span class="o">)</span> 1<span class="o">)</span> <span class="o">(</span>integer<span class="o">)</span> 3
      2<span class="o">)</span> <span class="s2">"[A, D, F, G]"</span>
</code></pre></div></div> <p><code class="language-plaintext highlighter-rouge">shortestPath</code> returns one of the shortest paths. If there is more than one, only one is retrieved.</p> <p>With RedisInsight v2, you can visualize a path simply by returning it.</p> <p><img src="../images/graph_query_road.png" alt="Road network" /></p> <h3 id="find-all-the-shortest-paths-by-number-of-roads-from-a-to-g"> <a href="#find-all-the-shortest-paths-by-number-of-roads-from-a-to-g" class="anchor-heading" aria-labelledby="find-all-the-shortest-paths-by-number-of-roads-from-a-to-g"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Find all the shortest paths (by number of roads) from A to G </h3> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GRAPH.QUERY g <span class="s2">"MATCH (a:City{name:'A'}),(g:City{name:'G'}) WITH a,g MATCH p=allShortestPaths((a)-[*]-&gt;(g)) RETURN length(p), [n in nodes(p) | n.name] as pathNodes"</span>
1<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"length(p)"</span>
   2<span class="o">)</span> <span class="s2">"pathNodes"</span>
2<span class="o">)</span> 1<span class="o">)</span> 1<span class="o">)</span> <span class="o">(</span>integer<span class="o">)</span> 3
      2<span class="o">)</span> <span class="s2">"[A, D, F, G]"</span>
   2<span class="o">)</span> 1<span class="o">)</span> <span class="o">(</span>integer<span class="o">)</span> 3
      2<span class="o">)</span> <span class="s2">"[A, C, F, G]"</span>
   3<span class="o">)</span> 1<span class="o">)</span> <span class="o">(</span>integer<span class="o">)</span> 3
      2<span class="o">)</span> <span class="s2">"[A, D, E, G]"</span>
   4<span class="o">)</span> 1<span class="o">)</span> <span class="o">(</span>integer<span class="o">)</span> 3
      2<span class="o">)</span> <span class="s2">"[A, B, E, G]"</span>
</code></pre></div></div> <p>All <code class="language-plaintext highlighter-rouge">allShortestPaths</code> results have, by definition, the same length (number of roads).</p> <h3 id="find-5-shortest-paths-by-number-of-roads-from-a-to-g"> <a href="#find-5-shortest-paths-by-number-of-roads-from-a-to-g" class="anchor-heading" aria-labelledby="find-5-shortest-paths-by-number-of-roads-from-a-to-g"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Find 5 shortest paths (by number of roads) from A to G </h3> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GRAPH.QUERY g <span class="s2">"MATCH p = (a:City{name:'A'})-[*]-&gt;(g:City{name:'G'}) RETURN length(p), [n in nodes(p) | n.name] as pathNodes ORDER BY length(p) LIMIT 5"</span>
1<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"length(p)"</span>
   2<span class="o">)</span> <span class="s2">"pathNodes"</span>
2<span class="o">)</span> 1<span class="o">)</span> 1<span class="o">)</span> <span class="o">(</span>integer<span class="o">)</span> 3
      2<span class="o">)</span> <span class="s2">"[A, B, E, G]"</span>
   2<span class="o">)</span> 1<span class="o">)</span> <span class="o">(</span>integer<span class="o">)</span> 3
      2<span class="o">)</span> <span class="s2">"[A, D, E, G]"</span>
   3<span class="o">)</span> 1<span class="o">)</span> <span class="o">(</span>integer<span class="o">)</span> 3
      2<span class="o">)</span> <span class="s2">"[A, D, F, G]"</span>
   4<span class="o">)</span> 1<span class="o">)</span> <span class="o">(</span>integer<span class="o">)</span> 3
      2<span class="o">)</span> <span class="s2">"[A, C, F, G]"</span>
   5<span class="o">)</span> 1<span class="o">)</span> <span class="o">(</span>integer<span class="o">)</span> 4
      2<span class="o">)</span> <span class="s2">"[A, D, C, F, G]"</span>
</code></pre></div></div> <p>Using the unbounded traversal pattern <code class="language-plaintext highlighter-rouge">(a:City{name:'A'})-[*]-&gt;(g:City{name:'G'})</code>, FalkorDB traverses all possible paths from A to G. <code class="language-plaintext highlighter-rouge">ORDER BY length(p) LIMIT 5</code> ensures that you collect only [up to 5 shortest paths (minimal number of relationships). This approach is very inefficient because all possible paths would have to be traversed. Ideally, you would want to abort some traversals as soon as you are sure they would not result in the discovery of shorter paths.</p> <h3 id="find-5-shortest-paths-in-kilometers-from-a-to-g"> <a href="#find-5-shortest-paths-in-kilometers-from-a-to-g" class="anchor-heading" aria-labelledby="find-5-shortest-paths-in-kilometers-from-a-to-g"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Find 5 shortest paths (in kilometers) from A to G </h3> <p>In a similarly inefficient manner, you can traverse all possible paths and collect the 5 shortest paths (in kilometers).</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GRAPH.QUERY g <span class="s2">"MATCH p = (a:City{name:'A'})-[*]-&gt;(g:City{name:'G'}) WITH p,reduce(dist=0, n IN relationships(p) | dist+n.dist) as dist return dist,[n IN nodes(p) | n.name] as pathNodes ORDER BY dist LIMIT 5"</span>
1<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"dist"</span>
   2<span class="o">)</span> <span class="s2">"pathNodes"</span>
2<span class="o">)</span> 1<span class="o">)</span> 1<span class="o">)</span> <span class="o">(</span>integer<span class="o">)</span> 12
      2<span class="o">)</span> <span class="s2">"[A, D, E, G]"</span>
   2<span class="o">)</span> 1<span class="o">)</span> <span class="o">(</span>integer<span class="o">)</span> 14
      2<span class="o">)</span> <span class="s2">"[A, D, C, F, G]"</span>
   3<span class="o">)</span> 1<span class="o">)</span> <span class="o">(</span>integer<span class="o">)</span> 15
      2<span class="o">)</span> <span class="s2">"[A, B, E, G]"</span>
   4<span class="o">)</span> 1<span class="o">)</span> <span class="o">(</span>integer<span class="o">)</span> 16
      2<span class="o">)</span> <span class="s2">"[A, D, F, G]"</span>
   5<span class="o">)</span> 1<span class="o">)</span> <span class="o">(</span>integer<span class="o">)</span> 16
      2<span class="o">)</span> <span class="s2">"[A, C, F, G]"</span>
</code></pre></div></div> <p>Again, instead of traversing all possible paths, you would want to abort some traversals as soon as you are sure that they would not result in the discovery of shorter paths.</p> <h2 id="algosppaths"> <a href="#algosppaths" class="anchor-heading" aria-labelledby="algosppaths"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> algo.SPpaths </h2> <p>Finding shortest paths (in kilometers) by traversing all paths and collecting the shortest ones is highly inefficient, up to the point of being impractical for large graphs, as the number of paths can sometimes grow exponentially relative to the number of relationships. Using the <code class="language-plaintext highlighter-rouge">algo.SPpaths</code> procedure (SP stands for <em>single pair</em>) you can traverse the graph, collecting only the required paths in the most efficient manner.</p> <p><code class="language-plaintext highlighter-rouge">algo.SPpaths</code> receives several arguments. The arguments you used in the examples above are:</p> <ul> <li> <p><code class="language-plaintext highlighter-rouge">sourceNode</code>: the source node</p> </li> <li> <p><code class="language-plaintext highlighter-rouge">targetNode</code>: the target node</p> </li> <li> <p><code class="language-plaintext highlighter-rouge">relTypes</code>: list of one or more relationship types to traverse</p> </li> <li> <p><code class="language-plaintext highlighter-rouge">weightProp</code>: the relationship’s property that represents the weight (for all specified <code class="language-plaintext highlighter-rouge">relTypes</code>)</p> </li> </ul> <p>You are looking for minimum-weight paths. The <em>weight of the path</em> is the sum of the weights of all relationships composing the path. If a given relationship does not have such a property or its value is not a positive integer or float, the property defaults to 1.</p> <p>The property also yields several results. The results you used in the example above are:</p> <ul> <li> <p><code class="language-plaintext highlighter-rouge">path</code>: the path</p> </li> <li> <p><code class="language-plaintext highlighter-rouge">pathWeight</code>: the path’s weight or sum of weightProp of all the relationships along the path</p> </li> </ul> <p>With <code class="language-plaintext highlighter-rouge">algo.SPaths</code>, you can solve queries like this.</p> <h3 id="find-the-shortest-path-in-kilometers-from-a-to-g"> <a href="#find-the-shortest-path-in-kilometers-from-a-to-g" class="anchor-heading" aria-labelledby="find-the-shortest-path-in-kilometers-from-a-to-g"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Find the shortest path (in kilometers) from A to G </h3> <p>Set <code class="language-plaintext highlighter-rouge">weightProp</code> to <code class="language-plaintext highlighter-rouge">dist</code>:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GRAPH.QUERY g <span class="s2">"MATCH (a:City{name:'A'}),(g:City{name:'G'}) CALL algo.SPpaths( {sourceNode: a, targetNode: g, relTypes: ['Road'], weightProp: 'dist'} ) YIELD path, pathWeight RETURN pathWeight, [n in nodes(path) | n.name] as pathNodes"</span>
1<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"pathWeight"</span>
   2<span class="o">)</span> <span class="s2">"pathNodes"</span>
2<span class="o">)</span> 1<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"12"</span>
      2<span class="o">)</span> <span class="s2">"[A, D, E, G]"</span>
</code></pre></div></div> <h3 id="find-the-fastest-path-in-minutes-from-a-to-g"> <a href="#find-the-fastest-path-in-minutes-from-a-to-g" class="anchor-heading" aria-labelledby="find-the-fastest-path-in-minutes-from-a-to-g"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Find the fastest path (in minutes) from A to G </h3> <p>Continue as before, but now set <code class="language-plaintext highlighter-rouge">weightProp</code> to <code class="language-plaintext highlighter-rouge">time</code>.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GRAPH.QUERY g <span class="s2">"MATCH (a:City{name:'A'}),(g:City{name:'G'}) CALL algo.SPpaths( {sourceNode: a, targetNode: g, relTypes: ['Road'], weightProp: 'time'} ) YIELD path, pathWeight RETURN pathWeight, [n in nodes(path) | n.name] as pathNodes"</span>
1<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"pathWeight"</span>
   2<span class="o">)</span> <span class="s2">"pathNodes"</span>
2<span class="o">)</span> 1<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"10"</span>
      2<span class="o">)</span> <span class="s2">"[A, D, F, G]"</span>
</code></pre></div></div> <h3 id="find-the-shortest-paths-in-kilometers-from-a-to-g"> <a href="#find-the-shortest-paths-in-kilometers-from-a-to-g" class="anchor-heading" aria-labelledby="find-the-shortest-paths-in-kilometers-from-a-to-g"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Find the shortest paths (in kilometers) from A to G </h3> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GRAPH.QUERY g <span class="s2">"MATCH (a:City{name:'A'}),(g:City{name:'G'}) CALL algo.SPpaths( {sourceNode: a, targetNode: g, relTypes: ['Road'], pathCount: 0, weightProp: 'dist'} ) YIELD path, pathWeight RETURN pathWeight, [n in nodes(path) | n.name] as pathNodes"</span>
1<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"pathWeight"</span>
   2<span class="o">)</span> <span class="s2">"pathNodes"</span>
2<span class="o">)</span> 1<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"12"</span>
      2<span class="o">)</span> <span class="s2">"[A, D, E, G]"</span>
</code></pre></div></div> <p>In the example above, you also specified the <code class="language-plaintext highlighter-rouge">pathCount</code> argument, where <code class="language-plaintext highlighter-rouge">pathCount</code> is the number of paths to report:</p> <ul> <li> <p><code class="language-plaintext highlighter-rouge">0</code>: retrieve all minimum-weight paths (all reported paths have the same weight)</p> </li> <li> <p><code class="language-plaintext highlighter-rouge">1</code>: retrieve a single minimum-weight path (default)</p> </li> <li> <p><code class="language-plaintext highlighter-rouge">n&gt;1</code>: retrieve up to <em>n</em> minimum-weight paths (reported paths may have different weights)</p> </li> </ul> <h3 id="find-5-shortest-paths-in-kilometers-from-a-to-g-1"> <a href="#find-5-shortest-paths-in-kilometers-from-a-to-g-1" class="anchor-heading" aria-labelledby="find-5-shortest-paths-in-kilometers-from-a-to-g-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Find 5 shortest paths (in kilometers) from A to G </h3> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GRAPH.QUERY g <span class="s2">"MATCH (a:City{name:'A'}),(g:City{name:'G'}) CALL algo.SPpaths( {sourceNode: a, targetNode: g, relTypes: ['Road'], pathCount: 5, weightProp: 'dist'} ) YIELD path, pathWeight RETURN pathWeight, [n in nodes(path) | n.name] ORDER BY pathWeight"</span>
1<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"pathWeight"</span>
   2<span class="o">)</span> <span class="s2">"[n in nodes(path) | n.name]"</span>
2<span class="o">)</span> 1<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"12"</span>
      2<span class="o">)</span> <span class="s2">"[A, D, E, G]"</span>
   2<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"14"</span>
      2<span class="o">)</span> <span class="s2">"[A, D, C, F, G]"</span>
   3<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"15"</span>
      2<span class="o">)</span> <span class="s2">"[A, B, E, G]"</span>
   4<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"16"</span>
      2<span class="o">)</span> <span class="s2">"[A, C, F, G]"</span>
   5<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"16"</span>
      2<span class="o">)</span> <span class="s2">"[A, D, F, G]"</span>
</code></pre></div></div> <h3 id="find-2-shortest-paths-in-kilometers-from-a-to-g-where-you-can-reach-g-in-up-to-12-minutes"> <a href="#find-2-shortest-paths-in-kilometers-from-a-to-g-where-you-can-reach-g-in-up-to-12-minutes" class="anchor-heading" aria-labelledby="find-2-shortest-paths-in-kilometers-from-a-to-g-where-you-can-reach-g-in-up-to-12-minutes"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Find 2 shortest paths (in kilometers) from A to G, where you can reach G in up to 12 minutes </h3> <p>Another interesting feature is the introduction of path constraints (‘bounded-cost’). Suppose that you want to find only paths where you can reach G in 12 minutes or less.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GRAPH.QUERY g <span class="s2">"MATCH (a:City{name:'A'}),(g:City{name:'G'}) CALL algo.SPpaths( {sourceNode: a, targetNode: g, relTypes: ['Road'], pathCount: 2, weightProp: 'dist', costProp: 'time', maxCost: 12} ) YIELD path, pathWeight, pathCost RETURN pathWeight, pathCost, [n in nodes(path) | n.name] ORDER BY pathWeight"</span>
1<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"pathWeight"</span>
   2<span class="o">)</span> <span class="s2">"pathCost"</span>
   3<span class="o">)</span> <span class="s2">"[n in nodes(path) | n.name]"</span>
2<span class="o">)</span> 1<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"14"</span>
      2<span class="o">)</span> <span class="s2">"12"</span>
      3<span class="o">)</span> <span class="s2">"[A, D, C, F, G]"</span>
   2<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"16"</span>
      2<span class="o">)</span> <span class="s2">"10"</span>
</code></pre></div></div> <p>In the example above, you added the following optional arguments:</p> <ul> <li> <p><code class="language-plaintext highlighter-rouge">costProp</code>: the relationship’s property that represents the <em>cost</em>. You are looking for <em>minimum-weight bounded-cost</em> paths. If a given relationship does not have such property or its value is not a positive integer/float, <code class="language-plaintext highlighter-rouge">costProp</code> defaults to 1.</p> </li> <li> <p><code class="language-plaintext highlighter-rouge">maxCost</code>: the maximum cost (the bound). If not specified, there is no maximum cost constraint.</p> </li> </ul> <p>You also yielded:</p> <ul> <li><code class="language-plaintext highlighter-rouge">pathCost</code>: the path’s cost or the sum of costProp of all relationships along the path.</li> </ul> <h3 id="find-paths-from-d-to-g-assuming-you-can-traverse-each-road-in-both-directions"> <a href="#find-paths-from-d-to-g-assuming-you-can-traverse-each-road-in-both-directions" class="anchor-heading" aria-labelledby="find-paths-from-d-to-g-assuming-you-can-traverse-each-road-in-both-directions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Find paths from D to G, assuming you can traverse each road in both directions </h3> <p>Another interesting feature is the ability to revert or ignore the relationship direction.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GRAPH.QUERY g <span class="s2">"MATCH (a:City{name:'D'}),(g:City{name:'G'}) CALL algo.SPpaths( {sourceNode: a, targetNode: g, relTypes: ['Road'], relDirection: 'both', pathCount: 1000, weightProp: 'dist'} ) YIELD path, pathWeight RETURN pathWeight, [n in nodes(path) | n.name] as pathNodes ORDER BY pathWeight"</span>
1<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"pathWeight"</span>
   2<span class="o">)</span> <span class="s2">"pathNodes"</span>
2<span class="o">)</span>  1<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"10"</span>
       2<span class="o">)</span> <span class="s2">"[D, E, G]"</span>
    2<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"12"</span>
       2<span class="o">)</span> <span class="s2">"[D, C, F, G]"</span>
    3<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"14"</span>
       2<span class="o">)</span> <span class="s2">"[D, F, G]"</span>
    4<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"17"</span>
       2<span class="o">)</span> <span class="s2">"[D, A, B, E, G]"</span>
    5<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"17"</span>
       2<span class="o">)</span> <span class="s2">"[D, B, E, G]"</span>
    6<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"18"</span>
       2<span class="o">)</span> <span class="s2">"[D, A, C, F, G]"</span>
    7<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"24"</span>
       2<span class="o">)</span> <span class="s2">"[D, B, A, C, F, G]"</span>
    8<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"27"</span>
       2<span class="o">)</span> <span class="s2">"[D, C, A, B, E, G]"</span>
    9<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"31"</span>
       2<span class="o">)</span> <span class="s2">"[D, E, B, A, C, F, G]"</span>
   10<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"41"</span>
       2<span class="o">)</span> <span class="s2">"[D, F, C, A, B, E, G]"</span>
</code></pre></div></div> <p>In the example above, you added the following optional argument:</p> <ul> <li><code class="language-plaintext highlighter-rouge">relDirection</code>: one of <code class="language-plaintext highlighter-rouge">incoming</code>, <code class="language-plaintext highlighter-rouge">outgoing</code>, or <code class="language-plaintext highlighter-rouge">both</code>. If not specified, <code class="language-plaintext highlighter-rouge">relDirection</code> defaults to <code class="language-plaintext highlighter-rouge">outgoing</code>.</li> </ul> <h3 id="find-paths-with-length-up-to-4-from-d-to-g-assuming-you-can-traverse-each-road-in-both-directions"> <a href="#find-paths-with-length-up-to-4-from-d-to-g-assuming-you-can-traverse-each-road-in-both-directions" class="anchor-heading" aria-labelledby="find-paths-with-length-up-to-4-from-d-to-g-assuming-you-can-traverse-each-road-in-both-directions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Find paths with length up to 4 from D to G, assuming you can traverse each road in both directions </h3> <p>Suppose you want to repeat the query above but also limit the path-length (number of relationships along to path) to 4:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GRAPH.QUERY g <span class="s2">"MATCH (a:City{name:'D'}),(g:City{name:'G'}) CALL algo.SPpaths( {sourceNode: a, targetNode: g, relTypes: ['Road'], relDirection: 'both', pathCount: 1000, weightProp: 'dist', maxLen: 4} ) YIELD path, pathWeight RETURN pathWeight, [n in nodes(path) | n.name] as pathNodes ORDER BY pathWeight"</span>
1<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"pathWeight"</span>
   2<span class="o">)</span> <span class="s2">"pathNodes"</span>
2<span class="o">)</span> 1<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"10"</span>
      2<span class="o">)</span> <span class="s2">"[D, E, G]"</span>
   2<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"12"</span>
      2<span class="o">)</span> <span class="s2">"[D, C, F, G]"</span>
   3<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"14"</span>
      2<span class="o">)</span> <span class="s2">"[D, F, G]"</span>
   4<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"17"</span>
      2<span class="o">)</span> <span class="s2">"[D, A, B, E, G]"</span>
   5<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"17"</span>
      2<span class="o">)</span> <span class="s2">"[D, B, E, G]"</span>
   6<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"18"</span>
      2<span class="o">)</span> <span class="s2">"[D, A, C, F, G]"</span>
</code></pre></div></div> <p>In the example above, you specified the following optional constraint:</p> <ul> <li><code class="language-plaintext highlighter-rouge">maxLen</code>: maximum path length (number of roads along the path)</li> </ul> <h2 id="algosspaths"> <a href="#algosspaths" class="anchor-heading" aria-labelledby="algosspaths"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> algo.SSpaths </h2> <p>Some problems involve just one node, the source node, where you ask questions about possible paths or reachable destinations, given some constraints.</p> <p>That’s what the <code class="language-plaintext highlighter-rouge">algo.SSpaths</code> procedure (SS stands for <em>single source</em>) is all about.</p> <p><code class="language-plaintext highlighter-rouge">algo.SSpaths</code> accepts the same arguments as <code class="language-plaintext highlighter-rouge">algo.SPpaths</code>, except <code class="language-plaintext highlighter-rouge">targetNode</code>. It also yields the same results (<code class="language-plaintext highlighter-rouge">path</code>, <code class="language-plaintext highlighter-rouge">pathCost</code>, and <code class="language-plaintext highlighter-rouge">pathWeight</code>).</p> <h3 id="find-all-paths-from-a-if-the-trip-is-limited-to-10-kilometers"> <a href="#find-all-paths-from-a-if-the-trip-is-limited-to-10-kilometers" class="anchor-heading" aria-labelledby="find-all-paths-from-a-if-the-trip-is-limited-to-10-kilometers"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Find all paths from A if the trip is limited to 10 kilometers </h3> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GRAPH.QUERY g <span class="s2">"MATCH (a:City{name:'A'}) CALL algo.SSpaths( {sourceNode: a, relTypes: ['Road'], pathCount: 1000, costProp: 'dist', maxCost: 10} ) YIELD path, pathCost RETURN pathCost, [n in nodes(path) | n.name] as pathNodes ORDER BY pathCost"</span>
1<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"pathCost"</span>
   2<span class="o">)</span> <span class="s2">"pathNodes"</span>
2<span class="o">)</span> 1<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"2"</span>
      2<span class="o">)</span> <span class="s2">"[A, D]"</span>
   2<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"3"</span>
      2<span class="o">)</span> <span class="s2">"[A, B]"</span>
   3<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"6"</span>
      2<span class="o">)</span> <span class="s2">"[A, D, C]"</span>
   4<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"7"</span>
      2<span class="o">)</span> <span class="s2">"[A, D, E]"</span>
   5<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"8"</span>
      2<span class="o">)</span> <span class="s2">"[A, B, D]"</span>
   6<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"8"</span>
      2<span class="o">)</span> <span class="s2">"[A, C]"</span>
   7<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"10"</span>
      2<span class="o">)</span> <span class="s2">"[A, B, E]"</span>
</code></pre></div></div> <h3 id="find-all-paths-from-a-if-the-trip-is-limited-to-8-minutes"> <a href="#find-all-paths-from-a-if-the-trip-is-limited-to-8-minutes" class="anchor-heading" aria-labelledby="find-all-paths-from-a-if-the-trip-is-limited-to-8-minutes"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Find all paths from A if the trip is limited to 8 minutes </h3> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GRAPH.QUERY g <span class="s2">"MATCH (a:City{name:'A'}) CALL algo.SSpaths( {sourceNode: a, relTypes: ['Road'], pathCount: 1000, costProp: 'time', maxCost: 8} ) YIELD path, pathCost RETURN pathCost, [n in nodes(path) | n.name] as pathNodes ORDER BY pathCost"</span>
1<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"pathCost"</span>
   2<span class="o">)</span> <span class="s2">"pathNodes"</span>
2<span class="o">)</span> 1<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"3"</span>
      2<span class="o">)</span> <span class="s2">"[A, C]"</span>
   2<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"4"</span>
      2<span class="o">)</span> <span class="s2">"[A, B]"</span>
   3<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"4"</span>
      2<span class="o">)</span> <span class="s2">"[A, D]"</span>
   4<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"5"</span>
      2<span class="o">)</span> <span class="s2">"[A, D, C]"</span>
   5<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"6"</span>
      2<span class="o">)</span> <span class="s2">"[A, D, F]"</span>
   6<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"6"</span>
      2<span class="o">)</span> <span class="s2">"[A, C, F]"</span>
   7<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"8"</span>
      2<span class="o">)</span> <span class="s2">"[A, D, C, F]"</span>
   8<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"8"</span>
      2<span class="o">)</span> <span class="s2">"[A, D, E]"</span>
</code></pre></div></div> <h3 id="find-5-shortest-paths-in-kilometers-from-a"> <a href="#find-5-shortest-paths-in-kilometers-from-a" class="anchor-heading" aria-labelledby="find-5-shortest-paths-in-kilometers-from-a"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Find 5 shortest paths (in kilometers) from A </h3> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GRAPH.QUERY g <span class="s2">"MATCH (a:City{name:'A'}) CALL algo.SSpaths( {sourceNode: a, relTypes: ['Road'], pathCount: 5, weightProp: 'dist', costProp: 'cost'} ) YIELD path, pathWeight, pathCost RETURN pathWeight, pathCost, [n in nodes(path) | n.name] as pathNodes ORDER BY pathWeight"</span>
1<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"pathWeight"</span>
   2<span class="o">)</span> <span class="s2">"pathCost"</span>
   3<span class="o">)</span> <span class="s2">"pathNodes"</span>
2<span class="o">)</span> 1<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"2"</span>
      2<span class="o">)</span> <span class="s2">"1"</span>
      3<span class="o">)</span> <span class="s2">"[A, D]"</span>
   2<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"3"</span>
      2<span class="o">)</span> <span class="s2">"1"</span>
      3<span class="o">)</span> <span class="s2">"[A, B]"</span>
   3<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"6"</span>
      2<span class="o">)</span> <span class="s2">"2"</span>
      3<span class="o">)</span> <span class="s2">"[A, D, C]"</span>
   4<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"7"</span>
      2<span class="o">)</span> <span class="s2">"2"</span>
      3<span class="o">)</span> <span class="s2">"[A, D, E]"</span>
   5<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"8"</span>
      2<span class="o">)</span> <span class="s2">"1"</span>
      3<span class="o">)</span> <span class="s2">"[A, C]"</span>
</code></pre></div></div> <h3 id="find-5-shortest-paths-in-kilometers-from-a-if-the-trip-is-limited-to-6-minutes"> <a href="#find-5-shortest-paths-in-kilometers-from-a-if-the-trip-is-limited-to-6-minutes" class="anchor-heading" aria-labelledby="find-5-shortest-paths-in-kilometers-from-a-if-the-trip-is-limited-to-6-minutes"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Find 5 shortest paths (in kilometers) from A if the trip is limited to 6 minutes </h3> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GRAPH.QUERY g <span class="s2">"MATCH (a:City{name:'A'}) CALL algo.SSpaths( {sourceNode: a, relTypes: ['Road'], pathCount: 5, weightProp: 'dist', costProp: 'time', maxCost: 6} ) YIELD path, pathWeight, pathCost RETURN pathWeight, pathCost, [n in nodes(path) | n.name] as pathNodes ORDER BY pathWeight"</span>
1<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"pathWeight"</span>
   2<span class="o">)</span> <span class="s2">"pathCost"</span>
   3<span class="o">)</span> <span class="s2">"pathNodes"</span>
2<span class="o">)</span> 1<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"2"</span>
      2<span class="o">)</span> <span class="s2">"4"</span>
      3<span class="o">)</span> <span class="s2">"[A, D]"</span>
   2<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"3"</span>
      2<span class="o">)</span> <span class="s2">"4"</span>
      3<span class="o">)</span> <span class="s2">"[A, B]"</span>
   3<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"6"</span>
      2<span class="o">)</span> <span class="s2">"5"</span>
      3<span class="o">)</span> <span class="s2">"[A, D, C]"</span>
   4<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"8"</span>
      2<span class="o">)</span> <span class="s2">"3"</span>
      3<span class="o">)</span> <span class="s2">"[A, C]"</span>
   5<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"14"</span>
      2<span class="o">)</span> <span class="s2">"6"</span>
      3<span class="o">)</span> <span class="s2">"[A, D, F]"</span>
</code></pre></div></div> </main> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
