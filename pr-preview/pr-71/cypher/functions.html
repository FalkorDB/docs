<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <link rel="stylesheet" href="/assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet"> <style id="jtd-nav-activation"> .site-nav > ul.nav-list:first-child > li > a, .site-nav > ul.nav-list:first-child > li > ul > li:not(:nth-child(17)) > a, .site-nav > ul.nav-list:first-child > li > ul > li > ul > li a { background-image: none; } .site-nav > ul.nav-list:not(:first-child) a, .site-nav li.external a { background-image: none; } .site-nav > ul.nav-list:first-child > li:nth-child(8) > ul > li:nth-child(17) > a { font-weight: 600; text-decoration: none; }.site-nav > ul.nav-list:first-child > li:nth-child(8) > button svg, .site-nav > ul.nav-list:first-child > li:nth-child(8) > ul > li:nth-child(17) > button svg { transform: rotate(-90deg); }.site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(8) > ul.nav-list, .site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(8) > ul.nav-list > li.nav-list-item:nth-child(17) > ul.nav-list { display: block; } </style> <script async src="https://www.googletagmanager.com/gtag/js?id=G-0V4CX90653"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-0V4CX90653'); </script> <script src="/assets/js/vendor/lunr.min.js"></script> <script src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <link rel="icon" href="/images/favicon.ico" type="image/x-icon"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Functions | FalkorDB Docs</title> <meta name="generator" content="Jekyll v3.10.0" /> <meta property="og:title" content="Functions" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Information on all supported functions from the Cypher query language" /> <meta property="og:description" content="Information on all supported functions from the Cypher query language" /> <link rel="canonical" href="https://docs.falkordb.com/cypher/functions.html" /> <meta property="og:url" content="https://docs.falkordb.com/cypher/functions.html" /> <meta property="og:site_name" content="FalkorDB Docs" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Functions" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"Information on all supported functions from the Cypher query language","headline":"Functions","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://docs.falkordb.com/images/falkor-logo.png"}},"url":"https://docs.falkordb.com/cypher/functions.html"}</script> <!-- End Jekyll SEO tag --> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewBox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header" role="banner"> <a href="/" class="site-title lh-tight"> <div class="site-logo" role="img" aria-label="FalkorDB Docs"></div> </a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </button> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/" class="nav-list-link">Home</a></li><li class="nav-list-item"><a href="/configuration.html" class="nav-list-link">Configuration Parameters</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Commands category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/commands/" class="nav-list-link">Commands</a><ul class="nav-list"><li class="nav-list-item"><a href="/commands/graph.query.html" class="nav-list-link">GRAPH.QUERY</a></li><li class="nav-list-item"><a href="/commands/graph.ro_query.html" class="nav-list-link">GRAPH.RO_QUERY</a></li><li class="nav-list-item"><a href="/commands/graph.delete.html" class="nav-list-link">GRAPH.DELETE</a></li><li class="nav-list-item"><a href="/commands/graph.explain.html" class="nav-list-link">GRAPH.EXPLAIN</a></li><li class="nav-list-item"><a href="/commands/graph.list.html" class="nav-list-link">GRAPH.LIST</a></li><li class="nav-list-item"><a href="/commands/graph.profile.html" class="nav-list-link">GRAPH.PROFILE</a></li><li class="nav-list-item"><a href="/commands/graph.config-get.html" class="nav-list-link">GRAPH.CONFIG-GET</a></li><li class="nav-list-item"><a href="/commands/graph.config-set.html" class="nav-list-link">GRAPH.CONFIG-SET</a></li><li class="nav-list-item"><a href="/commands/graph.constraint-create.html" class="nav-list-link">GRAPH.CONSTRAINT CREATE</a></li><li class="nav-list-item"><a href="/commands/graph.constraint-drop.html" class="nav-list-link">GRAPH.CONSTRAINT DROP</a></li><li class="nav-list-item"><a href="/commands/graph.copy.html" class="nav-list-link">GRAPH.COPY</a></li><li class="nav-list-item"><a href="/commands/graph.info.html" class="nav-list-link">GRAPH.INFO</a></li><li class="nav-list-item"><a href="/commands/graph.slowlog.html" class="nav-list-link">GRAPH.SLOWLOG</a></li></ul></li><li class="nav-list-item"><a href="/clients.html" class="nav-list-link">Client Libraries</a></li><li class="nav-list-item"><a href="/datatypes.html" class="nav-list-link">Data types</a></li><li class="nav-list-item"><a href="/path_algorithm.html" class="nav-list-link">Path algorithms</a></li><li class="nav-list-item"><a href="/docker-examples/README.html" class="nav-list-link">Building Docker</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Cypher Language category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/cypher/" class="nav-list-link">Cypher Language</a><ul class="nav-list"><li class="nav-list-item"><a href="/cypher/match.html" class="nav-list-link">MATCH</a></li><li class="nav-list-item"><a href="/cypher/optional_match.html" class="nav-list-link">OPTIONAL MATCH</a></li><li class="nav-list-item"><a href="/cypher/where.html" class="nav-list-link">WHERE</a></li><li class="nav-list-item"><a href="/cypher/return.html" class="nav-list-link">RETURN</a></li><li class="nav-list-item"><a href="/cypher/order_by.html" class="nav-list-link">ORDER BY</a></li><li class="nav-list-item"><a href="/cypher/skip.html" class="nav-list-link">SKIP</a></li><li class="nav-list-item"><a href="/cypher/limit.html" class="nav-list-link">LIMIT</a></li><li class="nav-list-item"><a href="/cypher/create.html" class="nav-list-link">CREATE</a></li><li class="nav-list-item"><a href="/cypher/delete.html" class="nav-list-link">DELETE</a></li><li class="nav-list-item"><a href="/cypher/set.html" class="nav-list-link">SET</a></li><li class="nav-list-item"><a href="/cypher/merge.html" class="nav-list-link">MERGE</a></li><li class="nav-list-item"><a href="/cypher/with.html" class="nav-list-link">WITH</a></li><li class="nav-list-item"><a href="/cypher/union.html" class="nav-list-link">UNION</a></li><li class="nav-list-item"><a href="/cypher/unwind.html" class="nav-list-link">UNWIND</a></li><li class="nav-list-item"><a href="/cypher/foreach.html" class="nav-list-link">FOREACH</a></li><li class="nav-list-item"><a href="/cypher/call.html" class="nav-list-link">CALL</a></li><li class="nav-list-item"><a href="/cypher/functions.html" class="nav-list-link">Functions</a></li><li class="nav-list-item"><a href="/cypher/procedures.html" class="nav-list-link">Procedures</a></li><li class="nav-list-item"><a href="/cypher/algorithms.html" class="nav-list-link">Algorithms</a></li><li class="nav-list-item"><a href="/cypher/indexing.html" class="nav-list-link">Indexing</a></li><li class="nav-list-item"><a href="/cypher/cypher_support.html" class="nav-list-link">Cypher coverage</a></li><li class="nav-list-item"><a href="/cypher/known_limitations.html" class="nav-list-link">Known limitations</a></li></ul></li><li class="nav-list-item"><a href="/llm_support.html" class="nav-list-link">LLM frameworks support</a></li><li class="nav-list-item"><a href="/bolt_support.html" class="nav-list-link">BOLT protocol support</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Operations category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/operations/" class="nav-list-link">Operations</a><ul class="nav-list"><li class="nav-list-item"><a href="/operations/persistence.html" class="nav-list-link">Persistence</a></li><li class="nav-list-item"><a href="/operations/replication.html" class="nav-list-link">Replication</a></li><li class="nav-list-item"><a href="/operations/cluster.html" class="nav-list-link">Cluster</a></li><li class="nav-list-item"><a href="/operations/k8s_support.html" class="nav-list-link">Kubernetes support</a></li></ul></li><li class="nav-list-item"><a href="/management/" class="nav-list-link">Management</a></li><li class="nav-list-item"><a href="/redisgraph-to-falkordb.html" class="nav-list-link">RedisGraph to FalkorDB</a></li><li class="nav-list-item"><a href="/References.html" class="nav-list-link">References</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in The FalkorDB Design category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/design/" class="nav-list-link">The FalkorDB Design</a><ul class="nav-list"><li class="nav-list-item"><a href="/design/client_spec.html" class="nav-list-link">Client Specification</a></li><li class="nav-list-item"><a href="/design/bulk_spec.html" class="nav-list-link">GRAPH.BULK endpoint specification</a></li><li class="nav-list-item"><a href="/design/result_structure.html" class="nav-list-link">Result Set Structure</a></li></ul></li><li class="nav-list-item"><a href="/management/persistence.html" class="nav-list-link">Persistence</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search" role="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search FalkorDB Docs" aria-label="Search FalkorDB Docs" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="//github.com/falkordb/docs" class="site-button" target="_blank" rel="noopener noreferrer" > Docs Repository </a> </li> <li class="aux-nav-list-item"> <a href="//github.com/falkordb/falkordb" class="site-button" target="_blank" rel="noopener noreferrer" > FalkorDB Repository </a> </li> </ul> </nav> </div> <div class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="/cypher/">Cypher Language</a></li> <li class="breadcrumb-nav-list-item"><span>Functions</span></li> </ol> </nav> <div id="main-content" class="main-content"> <main> <h1 id="functions"> <a href="#functions" class="anchor-heading" aria-labelledby="functions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Functions </h1> <p>This section contains information on all supported functions from the Cypher query language.</p> <ul> <li><a href="#predicate-functions">Predicate functions</a></li> <li><a href="#scalar-functions">Scalar functions</a></li> <li><a href="#aggregating-functions">Aggregating functions</a></li> <li><a href="#list-functions">List functions</a></li> <li><a href="#mathematical-operators">Mathematical operators</a></li> <li><a href="#mathematical-functions">Mathematical functions</a></li> <li><a href="#trigonometric-functions">Trigonometric functions</a></li> <li><a href="#string-functions">String functions</a></li> <li><a href="#point-functions">Point functions</a></li> <li><a href="#type-conversion-functions">Type conversion functions</a></li> <li><a href="#node-functions">Node functions</a></li> <li><a href="#path-functions">Path functions</a></li> <li><a href="#vector-functions">Vector functions</a></li> </ul> <h2 id="predicate-functions"> <a href="#predicate-functions" class="anchor-heading" aria-labelledby="predicate-functions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Predicate functions </h2> <div class="table-wrapper"><table> <thead> <tr> <th>Function</th> <th style="text-align: left">Description</th> </tr> </thead> <tbody> <tr> <td><a href="#existential-comprehension-functions">all(<em>var</em> IN <em>list</em> WHERE <em>predicate</em>)</a></td> <td style="text-align: left">Returns true when <em>predicate</em> holds true for all elements in <em>list</em></td> </tr> <tr> <td><a href="#existential-comprehension-functions">any(<em>var</em> IN <em>list</em> WHERE <em>predicate</em>)</a></td> <td style="text-align: left">Returns true when <em>predicate</em> holds true for at least one element in <em>list</em></td> </tr> <tr> <td>exists(<em>pattern</em>)</td> <td style="text-align: left">Returns true when at least one match for <em>pattern</em> exists</td> </tr> <tr> <td>isEmpty(<em>list</em>|<em>map</em>|<em>string</em>)</td> <td style="text-align: left">Returns true if the input list or map contains no elements or if the input string contains no characters <br /> Returns null when the input evaluates to null</td> </tr> <tr> <td><a href="#existential-comprehension-functions">none(<em>var</em> IN <em>list</em> WHERE <em>predicate</em>)</a></td> <td style="text-align: left">Returns true when <em>predicate</em> holds false for all elements in <em>list</em></td> </tr> <tr> <td><a href="#existential-comprehension-functions">single(<em>var</em> IN <em>list</em> WHERE <em>predicate</em>)</a></td> <td style="text-align: left">Returns true when <em>predicate</em> holds true for exactly one element in <em>list</em></td> </tr> </tbody> </table></div> <h2 id="scalar-functions"> <a href="#scalar-functions" class="anchor-heading" aria-labelledby="scalar-functions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Scalar functions </h2> <div class="table-wrapper"><table> <thead> <tr> <th>Function</th> <th style="text-align: left">Description</th> </tr> </thead> <tbody> <tr> <td>coalesce(<em>expr</em>[, expr…])</td> <td style="text-align: left">Returns the evaluation of the first argument that evaluates to a non-null value <br /> Returns null when all arguments evaluate to null</td> </tr> <tr> <td>endNode(<em>relationship</em>)</td> <td style="text-align: left">Returns the destination node of a relationship <br /> Returns null when <em>relationship</em> evaluates to null</td> </tr> <tr> <td>hasLabels(<em>node</em>, <em>labelsList</em>) *</td> <td style="text-align: left">Returns true when <em>node</em> contains all labels in <em>labelsList</em>, otherwise false <br /> Return true when <em>labelsList</em> evaluates to an empty list</td> </tr> <tr> <td>id(<em>node</em>|<em>relationship</em>)</td> <td style="text-align: left">Returns the internal ID of a node or relationship (which is not immutable)</td> </tr> <tr> <td>labels(<em>node</em>)</td> <td style="text-align: left">Returns a list of strings: all labels of <em>node</em> <br /> Returns null when <em>node</em> evaluates to null</td> </tr> <tr> <td>properties(<em>expr</em>)</td> <td style="text-align: left">When <em>expr</em> is a node or relationship: Returns a map containing all the properties of the given node or relationship <br /> When <em>expr</em> evaluates to a map: Returns <em>expr</em> unchanged <br /> Returns null when <em>expr</em> evaluates to null</td> </tr> <tr> <td>randomUUID()</td> <td style="text-align: left">Returns a random UUID (Universal Unique IDentifier)</td> </tr> <tr> <td>startNode(<em>relationship</em>)</td> <td style="text-align: left">Returns the source node of a relationship <br /> Returns null when <em>relationship</em> evaluates to null</td> </tr> <tr> <td>timestamp()</td> <td style="text-align: left">Returns the current system timestamp (milliseconds since epoch)</td> </tr> <tr> <td>type(<em>relationship</em>)</td> <td style="text-align: left">Returns a string: the type of <em>relationship</em> <br /> Returns null when <em>relationship</em> evaluates to null</td> </tr> <tr> <td>typeOf(<em>expr</em>) *</td> <td style="text-align: left">Returns a string: the type of a literal, an expression’s evaluation, an alias, a node’s property, or a relationship’s property <br /> Return value is one of <code class="language-plaintext highlighter-rouge">Map</code>, <code class="language-plaintext highlighter-rouge">String</code>, <code class="language-plaintext highlighter-rouge">Integer</code>, <code class="language-plaintext highlighter-rouge">Boolean</code>, <code class="language-plaintext highlighter-rouge">Float</code>, <code class="language-plaintext highlighter-rouge">Node</code>, <code class="language-plaintext highlighter-rouge">Edge</code>, <code class="language-plaintext highlighter-rouge">List</code>, <code class="language-plaintext highlighter-rouge">Path</code>, <code class="language-plaintext highlighter-rouge">Point</code>, or <code class="language-plaintext highlighter-rouge">Null</code></td> </tr> </tbody> </table></div> <p>* FalkorDB-specific extensions to Cypher</p> <h2 id="aggregating-functions"> <a href="#aggregating-functions" class="anchor-heading" aria-labelledby="aggregating-functions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Aggregating functions </h2> <div class="table-wrapper"><table> <thead> <tr> <th>Function</th> <th style="text-align: left">Description</th> </tr> </thead> <tbody> <tr> <td>avg(<em>expr</em>)</td> <td style="text-align: left">Returns the average of a set of numeric values. null values are ignored <br /> Returns null when <em>expr</em> has no evaluations</td> </tr> <tr> <td>collect(<em>expr</em>)</td> <td style="text-align: left">Returns a list containing all non-null elements which evaluated from a given expression</td> </tr> <tr> <td>count(<em>expr</em>|*)</td> <td style="text-align: left">When argument is <em>expr</em>: returns the number of non-null evaluations of <em>expr</em> <br /> When argument is <code class="language-plaintext highlighter-rouge">*</code>: returns the total number of evaluations (including nulls)</td> </tr> <tr> <td>max(<em>expr</em>)</td> <td style="text-align: left">Returns the maximum value in a set of values (taking into account type ordering). null values are ignored <br /> Returns null when <em>expr</em> has no evaluations</td> </tr> <tr> <td>min(<em>expr</em>)</td> <td style="text-align: left">Returns the minimum value in a set of values (taking into account type ordering). null values are ignored <br /> Returns null when <em>expr</em> has no evaluations</td> </tr> <tr> <td>percentileCont(<em>expr</em>, <em>percentile</em>)</td> <td style="text-align: left">Returns a linear-interpolated percentile (between 0.0 and 1.0) over a set of numeric values. null values are ignored <br /> Returns null when <em>expr</em> has no evaluations</td> </tr> <tr> <td>percentileDisc(<em>expr</em>, <em>percentile</em>)</td> <td style="text-align: left">Returns a nearest-value percentile (between 0.0 and 1.0) over a set of numeric values. null values are ignored <br /> Returns null when <em>expr</em> has no evaluations</td> </tr> <tr> <td>stDev(<em>expr</em>)</td> <td style="text-align: left">Returns the sample standard deviation over a set of numeric values. null values are ignored <br /> Returns null when <em>expr</em> has no evaluations</td> </tr> <tr> <td>stDevP(<em>expr</em>)</td> <td style="text-align: left">Returns the population standard deviation over a set of numeric values. null values are ignored <br /> Returns null when <em>expr</em> has no evaluations</td> </tr> <tr> <td>sum(<em>expr</em>)</td> <td style="text-align: left">Returns the sum of a set of numeric values. null values are ignored <br /> Returns 0 when <em>expr</em> has no evaluations</td> </tr> </tbody> </table></div> <h2 id="list-functions"> <a href="#list-functions" class="anchor-heading" aria-labelledby="list-functions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> List functions </h2> <div class="table-wrapper"><table> <thead> <tr> <th>Function</th> <th style="text-align: left">Description</th> </tr> </thead> <tbody> <tr> <td>head(<em>expr</em>)</td> <td style="text-align: left">Returns the first element of a list <br /> Returns null when <em>expr</em> evaluates to null or an empty list</td> </tr> <tr> <td>keys(<em>expr</em>)</td> <td style="text-align: left">Returns a list of strings: all key names for given map or all property names for a given node or edge <br /> Returns null when <em>expr</em> evaluates to null</td> </tr> <tr> <td>last(<em>expr</em>)</td> <td style="text-align: left">Returns the last element of a list <br /> Returns null when <em>expr</em> evaluates to null or an empty list</td> </tr> <tr> <td>list.dedup(<em>list</em>) *</td> <td style="text-align: left">Given a list, returns a similar list after removing duplicate elements <br /> Order is preserved, duplicates are removed from the end of the list <br /> Returns null when <em>list</em> evaluates to null <br /> Emit an error when <em>list</em> does not evaluate to a list or to null</td> </tr> <tr> <td>list.insert(<em>list</em>, <em>idx</em>, <em>val</em>[, <em>dups</em> = TRUE]) *</td> <td style="text-align: left">Given a list, returns a list after inserting a given value at a given index <br /> <em>idx</em> is 0-based when non-negative, or from the end of the list when negative <br /> Returns null when <em>list</em> evaluates to null <br /> Returns <em>list</em> when <em>val</em> evaluates to null <br /> Returns <em>list</em> when <em>idx</em> evaluates to an integer not in [-NumItems-1 .. NumItems] <br /> When <em>dups</em> evaluates to FALSE: returns <em>list</em> when <em>val</em> evaluates to a value that is already an element of <em>list</em> <br /> Emit an error when <em>list</em> does not evaluate to a list or to null <br /> Emit an error when <em>idx</em> does not evaluate to an integer <br /> Emit an error when <em>dups</em>, if specified, does not evaluate to a Boolean</td> </tr> <tr> <td>list.insertListElements(<em>list</em>, <em>list2</em>, <em>idx</em>[, <em>dups</em> = TRUE]) *</td> <td style="text-align: left">Given a list, returns a list after inserting the elements of a second list at a given index <br /> <em>idx</em> is 0-based when non-negative, or from the end of the list when negative <br /> Returns null when <em>list</em> evaluates to null <br /> Returns <em>list</em> when <em>list2</em> evaluates to null <br /> Returns <em>list</em> when <em>idx</em> evaluates to an integer not in [-NumItems-1 .. NumItems] <br /> When <em>dups</em> evaluates to FALSE: If an element of <em>list2</em> evaluates to an element of <em>list</em> it would be skipped; If multiple elements of <em>list2</em> evaluate to the same value - this value would be inserted at most once to <em>list</em> <br /> Emit an error when <em>list</em> does not evaluate to a list or to null <br /> Emit an error when <em>list2</em> does not evaluate to a list or to null <br /> Emit an error when <em>idx</em> does not evaluate to an integer <br /> Emit an error when <em>dups</em>, if specified, does not evaluate to a Boolean</td> </tr> <tr> <td>list.remove(<em>list</em>, <em>idx</em>[, <em>count</em> = 1]) *</td> <td style="text-align: left">Given a list, returns a list after removing a given number of consecutive elements (or less, if the end of the list has been reached). starting at a given index. <br /> <em>idx</em> is 0-based when non-negative, or from the end of the list when negative <br /> Returns <em>null</em> when <em>list</em> evaluates to null <br /> Returns <em>list</em> when <em>idx</em> evaluates to an integer not in [-NumItems .. NumItems-1] <br /> Returns <em>list</em> when <em>count</em> evaluates to a non-positive integer <br /> Emit an error when <em>list</em> does not evaluate to a list or to null <br /> Emit an error when <em>idx</em> does not evaluate to an integer <br /> Emit an error when <em>count</em>, if specified, does not evaluate to an integer</td> </tr> <tr> <td>list.sort(<em>list</em>[, <em>ascending</em> = TRUE]) *</td> <td style="text-align: left">Given a list, returns a list with similar elements, but sorted (inversely-sorted if <em>ascending</em> is evaluated to FALSE) <br /> Returns null when <em>list</em> evaluates to null <br /> Emit an error when <em>list</em> does not evaluate to a list or to null <br /> Emit an error when <em>ascending</em>, if specified, does not evaluate to a Boolean</td> </tr> <tr> <td>range(<em>first</em>, <em>last</em>[, <em>step</em> = 1])</td> <td style="text-align: left">Returns a list of integers in the range of [start, end]. <em>step</em>, an optional integer argument, is the increment between consecutive elements</td> </tr> <tr> <td>size(<em>expr</em>)</td> <td style="text-align: left">Returns the number of elements in a list <br /> Returns null with <em>expr</em> evaluates to null</td> </tr> <tr> <td>tail(<em>expr</em>)</td> <td style="text-align: left">Returns a sublist of a list, which contains all its elements except the first <br /> Returns an empty list when <em>expr</em> contains less than 2 elements. <br /> Returns null when <em>expr</em> evaluates to null</td> </tr> <tr> <td><a href="#reduce">reduce(…)</a></td> <td style="text-align: left">Returns a scalar produced by evaluating an expression against each list member</td> </tr> </tbody> </table></div> <p>* FalkorDB-specific extensions to Cypher</p> <h2 id="mathematical-operators"> <a href="#mathematical-operators" class="anchor-heading" aria-labelledby="mathematical-operators"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Mathematical operators </h2> <div class="table-wrapper"><table> <thead> <tr> <th>Function</th> <th style="text-align: left">Description</th> </tr> </thead> <tbody> <tr> <td>+</td> <td style="text-align: left">Add two values</td> </tr> <tr> <td>-</td> <td style="text-align: left">Subtract second value from first</td> </tr> <tr> <td>*</td> <td style="text-align: left">Multiply two values</td> </tr> <tr> <td>/</td> <td style="text-align: left">Divide first value by the second</td> </tr> <tr> <td>^</td> <td style="text-align: left">Raise the first value to the power of the second</td> </tr> <tr> <td>%</td> <td style="text-align: left">Perform modulo division of the first value by the second</td> </tr> </tbody> </table></div> <h2 id="mathematical-functions"> <a href="#mathematical-functions" class="anchor-heading" aria-labelledby="mathematical-functions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Mathematical functions </h2> <div class="table-wrapper"><table> <thead> <tr> <th>Function</th> <th style="text-align: left">Description</th> </tr> </thead> <tbody> <tr> <td>abs(<em>expr</em>)</td> <td style="text-align: left">Returns the absolute value of a numeric value <br /> Returns null when <em>expr</em> evaluates to null</td> </tr> <tr> <td>ceil(<em>expr</em>) **</td> <td style="text-align: left">When <em>expr</em> evaluates to an integer: returns its evaluation <br /> When <em>expr</em> evaluates to floating point: returns a floating point equals to the smallest integer greater than or equal to <em>expr</em> <br /> Returns null when <em>expr</em> evaluates to null</td> </tr> <tr> <td>e()</td> <td style="text-align: left">Returns the constant <em>e</em>, the base of the natural logarithm</td> </tr> <tr> <td>exp(<em>expr</em>)</td> <td style="text-align: left">Returns <em>e</em>^<em>expr</em>, where <em>e</em> is the base of the natural logarithm <br /> Returns null when <em>expr</em> evaluates to null</td> </tr> <tr> <td>floor(<em>expr</em>) **</td> <td style="text-align: left">When <em>expr</em> evaluates to an integer: returns its evaluation <br /> When <em>expr</em> evaluates to a floating point: returns a floating point equals to the greatest integer less than or equal to <em>expr</em> <br /> Returns null when <em>expr</em> evaluates to null</td> </tr> <tr> <td>log(<em>expr</em>)</td> <td style="text-align: left">Returns the natural logarithm of a numeric value <br /> Returns nan when <em>expr</em> evaluates to a negative numeric value, -inf when <em>expr</em> evaluates to 0, and null when <em>expr</em> evaluates to null</td> </tr> <tr> <td>log10(<em>expr</em>)</td> <td style="text-align: left">Returns the base-10 logarithm of a numeric value <br /> Returns nan when <em>expr</em> evaluates to a negative numeric value, -inf when <em>expr</em> evaluates to 0, and null when <em>expr</em> evaluates to null</td> </tr> <tr> <td>pow(<em>base</em>, <em>exponent</em>) *</td> <td style="text-align: left">Returns <em>base</em> raised to the power of <em>exponent</em> (equivalent to <em>base</em>^<em>exponent</em>) <br /> Returns null when either evaluates to null</td> </tr> <tr> <td>rand()</td> <td style="text-align: left">Returns a random floating point in the range [0,1]</td> </tr> <tr> <td>round(<em>expr</em>) ** ***</td> <td style="text-align: left">When <em>expr</em> evaluates to an integer: returns its evaluation <br /> When <em>expr</em> evaluates to a floating point: returns a floating point equals to the integer closest to <em>expr</em> <br /> Returns null when <em>expr</em> evaluates to null</td> </tr> <tr> <td>sign(<em>expr</em>)</td> <td style="text-align: left">Returns the signum of a numeric value: 0 when <em>expr</em> evaluates to 0, -1 when <em>expr</em> evaluates to a negative numeric value, and 1 when <em>expr</em> evaluates to a positive numeric value <br /> Returns null when <em>expr</em> evaluates to null</td> </tr> <tr> <td>sqrt(<em>expr</em>)</td> <td style="text-align: left">Returns the square root of a numeric value <br /> Returns nan when <em>expr</em> evaluates to a negative value and null when <em>expr</em> evaluates to null</td> </tr> </tbody> </table></div> <p>* FalkorDB-specific extensions to Cypher</p> <p>** FalkorDB-specific behavior: to avoid possible loss of precision, when <em>expr</em> evaluates to an integer - the result is an integer as well</p> <p>*** FalkorDB-specific behavior: tie-breaking method is “half away from zero”</p> <h2 id="trigonometric-functions"> <a href="#trigonometric-functions" class="anchor-heading" aria-labelledby="trigonometric-functions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Trigonometric functions </h2> <div class="table-wrapper"><table> <thead> <tr> <th>Function</th> <th style="text-align: left">Description</th> </tr> </thead> <tbody> <tr> <td>acos(<em>expr</em>)</td> <td style="text-align: left">Returns the arccosine, in radians, of a numeric value <br /> Returns nan when <em>expr</em> evaluates to a numeric value not in [-1, 1] and null when <em>expr</em> evaluates to null</td> </tr> <tr> <td>asin(<em>expr</em>)</td> <td style="text-align: left">Returns the arcsine, in radians, of a numeric value <br /> Returns nan when <em>expr</em> evaluates to a numeric value not in [-1, 1] and null when <em>expr</em> evaluates to null</td> </tr> <tr> <td>atan(<em>expr</em>)</td> <td style="text-align: left">Returns the arctangent, in radians, of a numeric value <br /> Returns null when <em>expr</em> evaluates to null</td> </tr> <tr> <td>atan2(<em>expr</em>, <em>expr</em>)</td> <td style="text-align: left">Returns the 2-argument arctangent, in radians, of a pair of numeric values (Cartesian coordinates) <br /> Returns 0 when both expressions evaluate to 0 <br /> Returns null when either expression evaluates to null</td> </tr> <tr> <td>cos(<em>expr</em>)</td> <td style="text-align: left">Returns the cosine of a numeric value that represents an angle in radians <br /> Returns null when <em>expr</em> evaluates to null</td> </tr> <tr> <td>cot(<em>expr</em>)</td> <td style="text-align: left">Returns the cotangent of a numeric value that represents an angle in radians <br /> Returns inf when <em>expr</em> evaluates to 0 and null when <em>expr</em> evaluates to null</td> </tr> <tr> <td>degrees(<em>expr</em>)</td> <td style="text-align: left">Converts a numeric value from radians to degrees <br /> Returns null when <em>expr</em> evaluates to null</td> </tr> <tr> <td>haversin(<em>expr</em>)</td> <td style="text-align: left">Returns half the versine of a numeric value that represents an angle in radians <br /> Returns null when <em>expr</em> evaluates to null</td> </tr> <tr> <td>pi()</td> <td style="text-align: left">Returns the mathematical constant <em>pi</em></td> </tr> <tr> <td>radians(<em>expr</em>)</td> <td style="text-align: left">Converts a numeric value from degrees to radians <br /> Returns null when <em>expr</em> evaluates to null</td> </tr> <tr> <td>sin(<em>expr</em>)</td> <td style="text-align: left">Returns the sine of a numeric value that represents an angle in radians <br /> Returns null when <em>expr</em> evaluates to null</td> </tr> <tr> <td>tan(<em>expr</em>)</td> <td style="text-align: left">Returns the tangent of a numeric value that represents an angle in radians <br /> Returns null when <em>expr</em> evaluates to null</td> </tr> </tbody> </table></div> <h2 id="string-functions"> <a href="#string-functions" class="anchor-heading" aria-labelledby="string-functions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> String functions </h2> <div class="table-wrapper"><table> <thead> <tr> <th>Function</th> <th style="text-align: left">Description</th> </tr> </thead> <tbody> <tr> <td>left(<em>str</em>, <em>len</em>)</td> <td style="text-align: left">Returns a string containing the <em>len</em> leftmost characters of <em>str</em> <br /> Returns null when <em>str</em> evaluates to null, otherwise emit an error if <em>len</em> evaluates to null</td> </tr> <tr> <td>lTrim(<em>str</em>)</td> <td style="text-align: left">Returns <em>str</em> with leading whitespace removed <br /> Returns null when <em>str</em> evaluates to null</td> </tr> <tr> <td>replace(<em>str</em>, <em>search</em>, <em>replace</em>)</td> <td style="text-align: left">Returns <em>str</em> with all occurrences of <em>search</em> replaced with <em>replace</em> <br /> Returns null when any argument evaluates to null</td> </tr> <tr> <td>reverse(<em>str</em>)</td> <td style="text-align: left">Returns a string in which the order of all characters in <em>str</em> are reversed <br /> Returns null when <em>str</em> evaluates to null</td> </tr> <tr> <td>right(<em>str</em>, <em>len</em>)</td> <td style="text-align: left">Returns a string containing the <em>len</em> rightmost characters of <em>str</em> <br /> Returns null when <em>str</em> evaluates to null, otherwise emit an error if <em>len</em> evaluates to null</td> </tr> <tr> <td>rTrim(<em>str</em>)</td> <td style="text-align: left">Returns <em>str</em> with trailing whitespace removed <br /> Returns null when <em>str</em> evaluates to null</td> </tr> <tr> <td>split(<em>str</em>, <em>delimiter</em>)</td> <td style="text-align: left">Returns a list of strings from splitting <em>str</em> by <em>delimiter</em> <br /> Returns null when any argument evaluates to null</td> </tr> <tr> <td>string.join(<em>strList</em>[, <em>delimiter</em> = ‘’]) *</td> <td style="text-align: left">Returns a concatenation of a list of strings using a given delimiter <br /> Returns null when <em>strList</em> evaluates to null <br /> Returns null when <em>delimiter</em>, if specified, evaluates to null <br /> Emit an error when <em>strList</em> does not evaluate to a list or to null <br /> Emit an error when an element of <em>strList</em> does not evaluate to a string <br /> Emit an error when <em>delimiter</em>, if specified, does not evaluate to a string or to null</td> </tr> <tr> <td>string.matchRegEx(<em>str</em>, <em>regex</em>) *</td> <td style="text-align: left">Given a string and a regular expression, returns a list of all matches and matching regions <br /> Returns an empty list when <em>str</em> evaluates to null <br /> Returns an empty list when <em>regex</em> evaluates to null <br /> Emit an error when <em>str</em> does not evaluate to a string or to null <br /> Emit an error when <em>regex</em> does not evaluate to a valid regex string or to null</td> </tr> <tr> <td>string.replaceRegEx(<em>str</em>, <em>regex</em>, <em>replacement</em>) *</td> <td style="text-align: left">Given a string and a regular expression, returns a string after replacing each regex match with a given replacement <br /> Returns null when <em>str</em> evaluates to null <br /> Returns null when <em>regex</em> evaluates to null <br /> Returns null when <em>replacement</em> evaluates to null <br /> Emit an error when <em>str</em> does not evaluate to a string or to null <br /> Emit an error when <em>regex</em> does not evaluate to a valid regex string or to null <br /> Emit an error when <em>replacement</em> does not evaluate to a string or to null</td> </tr> <tr> <td>substring(<em>str</em>, <em>start</em>[, <em>len</em>])</td> <td style="text-align: left">When <em>len</em> is specified: returns a substring of <em>str</em> beginning with a 0-based index <em>start</em> and with length <em>len</em> <br /> When <em>len</em> is not specified: returns a substring of <em>str</em> beginning with a 0-based index <em>start</em> and extending to the end of <em>str</em> <br /> Returns null when <em>str</em> evaluates to null <br /> Emit an error when <em>start</em> or <em>len</em> evaluate to null</td> </tr> <tr> <td>toLower(<em>str</em>)</td> <td style="text-align: left">Returns <em>str</em> in lowercase <br /> Returns null when <em>str</em> evaluates to null</td> </tr> <tr> <td>toJSON(<em>expr</em>) *</td> <td style="text-align: left">Returns a <a href="#json-format">JSON representation</a> of a value <br /> Returns null when <em>expr</em> evaluates to null</td> </tr> <tr> <td>toUpper(<em>str</em>)</td> <td style="text-align: left">Returns <em>str</em> in uppercase <br /> Returns null when <em>str</em> evaluates to null</td> </tr> <tr> <td>trim(<em>str</em>)</td> <td style="text-align: left">Returns <em>str</em> with leading and trailing whitespace removed <br /> Returns null when <em>str</em> evaluates to null</td> </tr> <tr> <td>size(<em>str</em>)</td> <td style="text-align: left">Returns the number of characters in <em>str</em> <br /> Returns null when <em>str</em> evaluates to null</td> </tr> </tbody> </table></div> <p>* FalkorDB-specific extensions to Cypher</p> <h2 id="point-functions"> <a href="#point-functions" class="anchor-heading" aria-labelledby="point-functions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Point functions </h2> <div class="table-wrapper"><table> <thead> <tr> <th>Function</th> <th style="text-align: left">Description</th> </tr> </thead> <tbody> <tr> <td><a href="#point">point(<em>map</em>)</a></td> <td style="text-align: left">Returns a Point representing a lat/lon coordinates</td> </tr> <tr> <td>distance(<em>point1</em>, <em>point2</em>)</td> <td style="text-align: left">Returns the distance in meters between the two given points <br /> Returns null when either evaluates to null</td> </tr> </tbody> </table></div> <h2 id="type-conversion-functions"> <a href="#type-conversion-functions" class="anchor-heading" aria-labelledby="type-conversion-functions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Type conversion functions </h2> <div class="table-wrapper"><table> <thead> <tr> <th>Function</th> <th style="text-align: left">Description</th> </tr> </thead> <tbody> <tr> <td>toBoolean(<em>expr</em>)</td> <td style="text-align: left">Returns a Boolean when <em>expr</em> evaluates to a Boolean <br /> Converts a string to Boolean (<code class="language-plaintext highlighter-rouge">"true"</code> (case insensitive) to true, <code class="language-plaintext highlighter-rouge">"false"</code> (case insensitive) to false, any other value to null) <br /> Converts an integer to Boolean (0 to <code class="language-plaintext highlighter-rouge">false</code>, any other values to <code class="language-plaintext highlighter-rouge">true</code>) <br /> Returns null when <em>expr</em> evaluates to null <br /> Emit an error on other types</td> </tr> <tr> <td>toBooleanList(<em>exprList</em>)</td> <td style="text-align: left">Converts a list to a list of Booleans. Each element in the list is converted using toBooleanOrNull()</td> </tr> <tr> <td>toBooleanOrNull(<em>expr</em>)</td> <td style="text-align: left">Returns a Boolean when <em>expr</em> evaluates to a Boolean <br /> Converts a string to Boolean (<code class="language-plaintext highlighter-rouge">"true"</code> (case insensitive) to true, <code class="language-plaintext highlighter-rouge">"false"</code> (case insensitive) to false, any other value to null) <br /> Converts an integer to Boolean (0 to <code class="language-plaintext highlighter-rouge">false</code>, any other values to <code class="language-plaintext highlighter-rouge">true</code>) <br /> Returns null when <em>expr</em> evaluates to null <br /> Returns null for other types</td> </tr> <tr> <td>toFloat(<em>expr</em>)</td> <td style="text-align: left">Returns a floating point when <em>expr</em> evaluates to a floating point <br /> Converts an integer to a floating point <br /> Converts a string to a floating point or null <br /> Returns null when <em>expr</em> evaluates to null <br /> Emit an error on other types</td> </tr> <tr> <td>toFloatList(<em>exprList</em>)</td> <td style="text-align: left">Converts a list to a list of floating points. Each element in the list is converted using toFloatOrNull()</td> </tr> <tr> <td>toFloatOrNull(<em>expr</em>)</td> <td style="text-align: left">Returns a floating point when <em>expr</em> evaluates to a floating point <br /> Converts an integer to a floating point <br /> Converts a string to a floating point or null <br /> Returns null when <em>expr</em> evaluates to null <br /> Returns null for other types</td> </tr> <tr> <td>toInteger(<em>expr</em>) *</td> <td style="text-align: left">Returns an integer when <em>expr</em> evaluates to an integer <br /> Converts a floating point to integer <br /> Converts a string to an integer or null <br /> Converts a Boolean to an integer (false to 0, true to 1) Returns null when <em>expr</em> evaluates to null <br /> Emit an error on other types</td> </tr> <tr> <td>toIntegerList(<em>exprList</em>) *</td> <td style="text-align: left">Converts a list to a list of integer values. Each element in the list is converted using toIntegerOrNull()</td> </tr> <tr> <td>toIntegerOrNull(<em>expr</em>) *</td> <td style="text-align: left">Returns an integer when <em>expr</em> evaluates to an integer <br /> Converts a floating point to integer <br /> Converts a string to an integer or null <br /> Converts a Boolean to an integer (false to 0, true to 1) Returns null when <em>expr</em> evaluates to null <br /> Returns null for other types</td> </tr> <tr> <td>toString(<em>expr</em>)</td> <td style="text-align: left">Returns a string when <em>expr</em> evaluates to a string <br /> Converts an integer, float, Boolean, string, or point to a string representation <br /> Returns null when <em>expr</em> evaluates to null <br /> Emit an error on other types</td> </tr> <tr> <td>toStringList(<em>exprList</em>)</td> <td style="text-align: left">Converts a list to a list of strings. Each element in the list is converted using toStringOrNull()</td> </tr> <tr> <td>toStringOrNull(<em>expr</em>)</td> <td style="text-align: left">Returns a string when <em>expr</em> evaluates to a string <br /> Converts an integer, float, Boolean, string, or point to a string representation <br /> Returns null when <em>expr</em> evaluates to null <br /> Returns null for other types</td> </tr> </tbody> </table></div> <p>* FalkorDB-specific behavior: rounding method when converting a floating point to an integer is “toward negative infinity (floor)”</p> <h2 id="node-functions"> <a href="#node-functions" class="anchor-heading" aria-labelledby="node-functions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Node functions </h2> <div class="table-wrapper"><table> <thead> <tr> <th>Function</th> <th style="text-align: left">Description</th> </tr> </thead> <tbody> <tr> <td>indegree(<em>node</em> [, <em>reltype</em> …]) * <br /> indegree(<em>node</em> [, <em>reltypeList</em>]) *</td> <td style="text-align: left">When no relationship types are specified: Returns the number of <em>node</em>’s incoming edges <br /> When one or more relationship types are specified: Returns the number of <em>node’s</em> incoming edges with one of the given relationship types <br /> Return null when <em>node</em> evaluates to null</td> </tr> <tr> <td>outdegree(<em>node</em> [, <em>reltype</em> …]) * <br /> outdegree(<em>node</em> [, <em>reltypeList</em>]) *</td> <td style="text-align: left">When no relationship types are specified: Returns the number of <em>node</em>’s outgoing edges <br /> When one or more relationship types are specified: Returns the number of <em>node’s</em> outgoing edges with one of the given relationship types <br /> Return null when <em>node</em> evaluates to null</td> </tr> </tbody> </table></div> <p>* FalkorDB-specific extensions to Cypher</p> <h2 id="path-functions"> <a href="#path-functions" class="anchor-heading" aria-labelledby="path-functions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Path functions </h2> <div class="table-wrapper"><table> <thead> <tr> <th>Function</th> <th style="text-align: left">Description</th> </tr> </thead> <tbody> <tr> <td>nodes(<em>path</em>)</td> <td style="text-align: left">Returns a list containing all the nodes in <em>path</em> <br /> Returns null if <em>path</em> evaluates to null</td> </tr> <tr> <td>relationships(<em>path</em>)</td> <td style="text-align: left">Returns a list containing all the relationships in <em>path</em> <br /> Returns null if <em>path</em> evaluates to null</td> </tr> <tr> <td>length(<em>path</em>)</td> <td style="text-align: left">Return the length (number of edges) of <em>path</em> <br /> Returns null if <em>path</em> evaluates to null</td> </tr> <tr> <td><a href="#shortestPath">shortestPath(…)</a> *</td> <td style="text-align: left">Return the shortest path that resolves the given pattern</td> </tr> </tbody> </table></div> <p>* FalkorDB-specific extensions to Cypher</p> <h2 id="vector-functions"> <a href="#vector-functions" class="anchor-heading" aria-labelledby="vector-functions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Vector functions </h2> <div class="table-wrapper"><table> <thead> <tr> <th>Function</th> <th style="text-align: left">Description</th> </tr> </thead> <tbody> <tr> <td>vecf32(<em>array</em>)</td> <td style="text-align: left">Creates a new float 32 vector <br /> all elements of input array must be of type float</td> </tr> <tr> <td>vec.euclideanDistance(<em>vector</em>, <em>vector</em>)</td> <td style="text-align: left">Returns the Euclidean distance between the two input vectors</td> </tr> <tr> <td>vec.cosineDistance(<em>vector</em>, <em>vector</em>)</td> <td style="text-align: left">Returns the Cosine distance between the two input vectors</td> </tr> </tbody> </table></div> <h3 id="list-comprehensions"> <a href="#list-comprehensions" class="anchor-heading" aria-labelledby="list-comprehensions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> List comprehensions </h3> <p>List comprehensions are a syntactical construct that accepts an array and produces another based on the provided map and filter directives.</p> <p>They are a common construct in functional languages and modern high-level languages. In Cypher, they use the syntax:</p> <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">[</span>element IN array WHERE condition | output elem]
</code></pre></div></div> <ul> <li><code class="language-plaintext highlighter-rouge">array</code> can be any expression that produces an array: a literal, a property reference, or a function call.</li> <li><code class="language-plaintext highlighter-rouge">WHERE condition</code> is an optional argument to only project elements that pass a certain criteria. If omitted, all elements in the array will be represented in the output.</li> <li><code class="language-plaintext highlighter-rouge">| output elem</code> is an optional argument that allows elements to be transformed in the output array. If omitted, the output elements will be the same as their corresponding inputs.</li> </ul> <p>The following query collects all paths of any length, then for each produces an array containing the <code class="language-plaintext highlighter-rouge">name</code> property of every node with a <code class="language-plaintext highlighter-rouge">rank</code> property greater than 10:</p> <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>MATCH <span class="nv">p</span><span class="o">=()</span>-[<span class="k">*</span><span class="o">]</span>-&gt;<span class="o">()</span> RETURN <span class="o">[</span>node IN nodes<span class="o">(</span>p<span class="o">)</span> WHERE node.rank <span class="o">&gt;</span> 10 | node.name]
</code></pre></div></div> <h4 id="existential-comprehension-functions"> <a href="#existential-comprehension-functions" class="anchor-heading" aria-labelledby="existential-comprehension-functions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Existential comprehension functions </h4> <p>The functions <code class="language-plaintext highlighter-rouge">any()</code>, <code class="language-plaintext highlighter-rouge">all()</code>, <code class="language-plaintext highlighter-rouge">single()</code> and <code class="language-plaintext highlighter-rouge">none()</code> use a simplified form of the list comprehension syntax and return a boolean value.</p> <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>any<span class="o">(</span>element IN array WHERE condition<span class="o">)</span>
</code></pre></div></div> <p>They can operate on any form of input array, but are particularly useful for path filtering. The following query collects all paths of any length in which all traversed edges have a weight less than 3:</p> <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>MATCH <span class="nv">p</span><span class="o">=()</span>-[<span class="k">*</span><span class="o">]</span>-&gt;<span class="o">()</span> WHERE all<span class="o">(</span>edge IN relationships<span class="o">(</span>p<span class="o">)</span> WHERE edge.weight &lt; 3<span class="o">)</span> RETURN p
</code></pre></div></div> <h3 id="pattern-comprehensions"> <a href="#pattern-comprehensions" class="anchor-heading" aria-labelledby="pattern-comprehensions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Pattern comprehensions </h3> <p>Pattern comprehensions are a method of producing a list composed of values found by performing the traversal of a given graph pattern.</p> <p>The following query returns the name of a <code class="language-plaintext highlighter-rouge">Person</code> node and a list of all their friends’ ages:</p> <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>MATCH <span class="o">(</span>n:Person<span class="o">)</span>
RETURN
n.name,
<span class="o">[(</span>n<span class="o">)</span>-[:FRIEND_OF]-&gt;<span class="o">(</span>f:Person<span class="o">)</span> | f.age]
</code></pre></div></div> <p>Optionally, a <code class="language-plaintext highlighter-rouge">WHERE</code> clause may be embedded in the pattern comprehension to filter results. In this query, all friends’ ages will be gathered for friendships that started before 2010:</p> <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>MATCH <span class="o">(</span>n:Person<span class="o">)</span>
RETURN
n.name,
<span class="o">[(</span>n<span class="o">)</span>-[e:FRIEND_OF]-&gt;<span class="o">(</span>f:Person<span class="o">)</span> WHERE e.since &lt; 2010 | f.age]
</code></pre></div></div> <h3 id="case-when"> <a href="#case-when" class="anchor-heading" aria-labelledby="case-when"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> CASE WHEN </h3> <p>The case statement comes in two variants. Both accept an input argument and evaluates it against one or more expressions. The first <code class="language-plaintext highlighter-rouge">WHEN</code> argument that specifies a value matching the result will be accepted, and the value specified by the corresponding <code class="language-plaintext highlighter-rouge">THEN</code> keyword will be returned.</p> <p>Optionally, an <code class="language-plaintext highlighter-rouge">ELSE</code> argument may also be specified to indicate what to do if none of the <code class="language-plaintext highlighter-rouge">WHEN</code> arguments match successfully.</p> <p>In its simple form, there is only one expression to evaluate and it immediately follows the <code class="language-plaintext highlighter-rouge">CASE</code> keyword:</p> <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>MATCH <span class="o">(</span>n<span class="o">)</span>
RETURN
CASE n.title
WHEN <span class="s1">'Engineer'</span> THEN 100
WHEN <span class="s1">'Scientist'</span> THEN 80
ELSE n.privileges
END
</code></pre></div></div> <p>In its generic form, no expression follows the <code class="language-plaintext highlighter-rouge">CASE</code> keyword. Instead, each <code class="language-plaintext highlighter-rouge">WHEN</code> statement specifies its own expression:</p> <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>MATCH <span class="o">(</span>n<span class="o">)</span>
RETURN
CASE
WHEN n.age &lt; 18 THEN <span class="s1">'0-18'</span>
WHEN n.age &lt; 30 THEN <span class="s1">'18-30'</span>
ELSE <span class="s1">'30+'</span>
END
</code></pre></div></div> <h4 id="reduce"> <a href="#reduce" class="anchor-heading" aria-labelledby="reduce"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Reduce </h4> <p>The <code class="language-plaintext highlighter-rouge">reduce()</code> function accepts a starting value and updates it by evaluating an expression against each element of the list:</p> <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>RETURN reduce<span class="o">(</span><span class="nb">sum</span> <span class="o">=</span> 0, n IN <span class="o">[</span>1,2,3] | <span class="nb">sum</span> + n<span class="o">)</span>
</code></pre></div></div> <p><code class="language-plaintext highlighter-rouge">sum</code> will successively have the values 0, 1, 3, and 6, with 6 being the output of the function call.</p> <h3 id="point"> <a href="#point" class="anchor-heading" aria-labelledby="point"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Point </h3> <p>The <code class="language-plaintext highlighter-rouge">point()</code> function expects one map argument of the form:</p> <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>RETURN point<span class="o">({</span>latitude: lat_value, longitude: lon_val<span class="o">})</span>
</code></pre></div></div> <p>The key names <code class="language-plaintext highlighter-rouge">latitude</code> and <code class="language-plaintext highlighter-rouge">longitude</code> are case-sensitive.</p> <p>The point constructed by this function can be saved as a node/relationship property or used within the query, such as in a <code class="language-plaintext highlighter-rouge">distance</code> function call.</p> <h3 id="shortestpath"> <a href="#shortestpath" class="anchor-heading" aria-labelledby="shortestpath"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> shortestPath </h3> <p>The <code class="language-plaintext highlighter-rouge">shortestPath()</code> function is invoked with the form:</p> <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>MATCH <span class="o">(</span>a <span class="o">{</span>v: 1<span class="o">})</span>, <span class="o">(</span>b <span class="o">{</span>v: 4<span class="o">})</span> RETURN shortestPath<span class="o">((</span>a<span class="o">)</span>-[:L<span class="k">*</span><span class="o">]</span>-&gt;<span class="o">(</span>b<span class="o">))</span>
</code></pre></div></div> <p>The sole <code class="language-plaintext highlighter-rouge">shortestPath</code> argument is a traversal pattern. This pattern’s endpoints must be resolved prior to the function call, and no property filters may be introduced in the pattern. The relationship pattern may specify any number of relationship types (including zero) to be considered. If a minimum number of edges to traverse is specified, it may only be 0 or 1, while any number may be used for the maximum. If 0 is specified as the minimum, the source node will be included in the returned path. If no shortest path can be found, NULL is returned.</p> <h3 id="json-format"> <a href="#json-format" class="anchor-heading" aria-labelledby="json-format"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> JSON format </h3> <p><code class="language-plaintext highlighter-rouge">toJSON()</code> returns the input value in JSON formatting. For primitive data types and arrays, this conversion is conventional. Maps and map projections (<code class="language-plaintext highlighter-rouge">toJSON(node { .prop} )</code>) are converted to JSON objects, as are nodes and relationships.</p> <p>The format for a node object in JSON is:</p> <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">{</span>
  <span class="s2">"type"</span>: <span class="s2">"node"</span>,
  <span class="s2">"id"</span>: <span class="nb">id</span><span class="o">(</span>int<span class="o">)</span>,
  <span class="s2">"labels"</span>: <span class="o">[</span>label<span class="o">(</span>string<span class="o">)</span> X N],
  <span class="s2">"properties"</span>: <span class="o">{</span>
    property_key<span class="o">(</span>string<span class="o">)</span>: property_value X N
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <p>The format for a relationship object in JSON is:</p> <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">{</span>
  <span class="s2">"type"</span>: <span class="s2">"relationship"</span>,
  <span class="s2">"id"</span>: <span class="nb">id</span><span class="o">(</span>int<span class="o">)</span>,
  <span class="s2">"relationship"</span>: <span class="nb">type</span><span class="o">(</span>string<span class="o">)</span>,
  <span class="s2">"properties"</span>: <span class="o">{</span>
    property_key<span class="o">(</span>string<span class="o">)</span>: property_value X N
  <span class="o">}</span>
  <span class="s2">"start"</span>: src_node<span class="o">(</span>node<span class="o">)</span>,
  <span class="s2">"end"</span>: dest_node<span class="o">(</span>node<span class="o">)</span>
<span class="o">}</span>
</code></pre></div></div> </main> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
